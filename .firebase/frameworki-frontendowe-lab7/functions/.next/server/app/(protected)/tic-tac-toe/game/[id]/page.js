(()=>{var e={};e.id=832,e.ids=[832],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},99401:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>m,pages:()=>u,routeModule:()=>c,tree:()=>d});var s=t(70260),o=t(28203),i=t(25155),a=t.n(i),n=t(67292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d=["",{children:["(protected)",{children:["tic-tac-toe",{children:["game",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,52476)),"C:\\Users\\jmich\\OneDrive\\Dokumenty\\K\xf3łko i Krzyżyk Frameworki\\frontend-app-next-js-main\\app\\(protected)\\tic-tac-toe\\game\\[id]\\page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,955)),"C:\\Users\\jmich\\OneDrive\\Dokumenty\\K\xf3łko i Krzyżyk Frameworki\\frontend-app-next-js-main\\app\\(protected)\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,33803)),"C:\\Users\\jmich\\OneDrive\\Dokumenty\\K\xf3łko i Krzyżyk Frameworki\\frontend-app-next-js-main\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,51617)),"C:\\Users\\jmich\\OneDrive\\Dokumenty\\K\xf3łko i Krzyżyk Frameworki\\frontend-app-next-js-main\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\jmich\\OneDrive\\Dokumenty\\K\xf3łko i Krzyżyk Frameworki\\frontend-app-next-js-main\\app\\(protected)\\tic-tac-toe\\game\\[id]\\page.js"],m={require:t,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(protected)/tic-tac-toe/game/[id]/page",pathname:"/tic-tac-toe/game/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10718:(e,r,t)=>{Promise.resolve().then(t.bind(t,955))},50886:(e,r,t)=>{Promise.resolve().then(t.bind(t,58039))},85020:(e,r,t)=>{Promise.resolve().then(t.bind(t,52476))},26812:(e,r,t)=>{Promise.resolve().then(t.bind(t,78064))},58039:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(45512),o=t(75674);t(58009);var i=t(79334);let a=function({children:e}){let{user:r}=(0,o.A)();return(0,i.usePathname)(),(0,s.jsx)(s.Fragment,{children:e})}},78064:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(45512),o=t(58009);t(17656),t(4034);var i=t(11621),a=t(79334);function n(){let[e,r]=(0,o.useState)(!0),[t,n]=(0,o.useState)(null),l=(0,a.useParams)();return e?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:"Loading..."}):t?(0,s.jsx)(i.default,{gameId:l.id,initialState:t}):(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:"Game not found"})}},11621:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(45512),o=t(58009),i=t(17656),a=t(4034),n=t(26008),l=t(12688);function d({gameId:e,initialState:r}){let t=(0,o.useRef)(e||crypto.randomUUID()),[d,u]=(0,o.useState)({boardSize:3,backgroundColor:"#ffffff",symbolColors:{X:"#ff0000",O:"#0000ff"},borderColor:"#000000",cellSize:80,symbolSize:"2rem",gameMode:"friend",playerSymbol:"X"}),[m,c]=(0,o.useState)(Array(9).fill(null)),[p,f]=(0,o.useState)(!0),[h,y]=(0,o.useState)({xMoves:0,oMoves:0,emptyFields:9}),[x,b]=(0,o.useState)(null),v=e=>e.reduce((e,r,t)=>(r||e.push(t),e),[]),g=(e,r)=>{for(let t of v(e)){let s=[...e];if(s[t]=r,k(s)===r)return t}return null},j=(e,r)=>{let t=v(e);if(0===t.length)return null;let s=g(e,"X"===d.playerSymbol?"O":"X");if(null!==s)return s;let o=g(e,d.playerSymbol);if(null!==o)return o;switch(r){case"easy":default:return t[Math.floor(Math.random()*t.length)];case"medium":{if(.7>Math.random())return t[Math.floor(Math.random()*t.length)];let r=Math.floor(e.length/2),s=Math.sqrt(e.length),o=[r,0,s-1,s*(s-1),s*s-1].filter(e=>t.includes(e));return o.length>0?o[Math.floor(Math.random()*o.length)]:t[Math.floor(Math.random()*t.length)]}case"hard":{let r=Math.floor(e.length/2),s=Math.sqrt(e.length);if(t.includes(r))return r;let o=[0,s-1,s*(s-1),s*s-1].filter(e=>t.includes(e));if(o.length>0)return o[Math.floor(Math.random()*o.length)];return t[Math.floor(Math.random()*t.length)]}}},k=e=>{for(let r=0;r<d.boardSize;r++)for(let t=0;t<=d.boardSize-d.boardSize;t++){let t=e.slice(r*d.boardSize,(r+1)*d.boardSize);if(t.every(e=>"X"===e)||t.every(e=>"O"===e))return t[0]}for(let r=0;r<d.boardSize;r++){let t=[];for(let s=0;s<d.boardSize;s++)t.push(e[r+s*d.boardSize]);if(t.every(e=>"X"===e)||t.every(e=>"O"===e))return t[0]}let r=[],t=[];for(let s=0;s<d.boardSize;s++)r.push(e[s*d.boardSize+s]),t.push(e[s*d.boardSize+(d.boardSize-1-s)]);return r.every(e=>"X"===e)||r.every(e=>"O"===e)?r[0]:t.every(e=>"X"===e)||t.every(e=>"O"===e)?t[0]:null},S=async e=>{if(k(m)||m[e])return;let r=[...m],s=d.playerSymbol||"X",o="X"===s?"O":"X";r[e]=s;let n={xMoves:h.xMoves+("X"===s?1:0),oMoves:h.oMoves+("O"===s?1:0),emptyFields:h.emptyFields-1};if(c(r),y(n),"friend"!==d.gameMode&&!k(r)&&n.emptyFields>0){let e=j(r,d.gameMode);null!==e&&(r[e]=o,n["X"===o?"xMoves":"oMoves"]+=1,n.emptyFields-=1,c(r),y(n))}else f(!p);let l=k(r),u={timestamp:(0,i.O5)(),lastModified:(0,i.O5)(),status:l||0===n.emptyFields?"completed":"in_progress",winner:l||(0===n.emptyFields?"Draw":null),xMoves:n.xMoves,oMoves:n.oMoves,boardSize:d.boardSize,currentBoard:r,xIsNext:"friend"!==d.gameMode||!p,emptyFields:n.emptyFields,gameMode:d.gameMode,playerSymbol:d.playerSymbol};try{await (0,i.BN)((0,i.H9)(a.db,"users",a.j.currentUser.uid,"tictactoe-games",t.current),u)}catch(e){console.error("Error saving game:",e)}},M=k(m),z=M?`Winner: ${M}`:0===h.emptyFields?"Game is a draw!":`Next player: ${p?"X":"O"}`;return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center p-4",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-8",children:["Tic Tac Toe ",d.boardSize,"x",d.boardSize,"friend"!==d.gameMode&&` (vs Bot - ${d.gameMode})`]}),"friend"!==d.gameMode&&(0,s.jsxs)("p",{className:"mb-4 text-lg",children:["You are playing as:"," ",x?.playerSymbol||d.playerSymbol||"X"]}),(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-center gap-3",children:[(0,s.jsxs)(n.default,{href:"/tic-tac-toe/settings",className:"rounded-md bg-primary px-4 py-3 text-base text-white font-medium dark:text-white hover:bg-primary/90 flex items-center gap-2",children:[(0,s.jsx)(l.xPd,{size:25}),"Settings"]}),(0,s.jsxs)(n.default,{href:"/tic-tac-toe/history",className:"rounded-md bg-primary px-4 py-3 text-base text-white font-medium dark:text-white hover:bg-primary/90 flex items-center gap-2",children:[(0,s.jsx)(l.Eyn,{size:25}),"History"]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("p",{children:["X Moves: ",h.xMoves]}),(0,s.jsxs)("p",{children:["O Moves: ",h.oMoves]}),(0,s.jsxs)("p",{children:["Empty Fields: ",h.emptyFields]}),(0,s.jsx)("p",{className:"font-bold",children:z})]}),(0,s.jsx)("div",{className:"grid gap-1 mb-4",style:{gridTemplateColumns:`repeat(${d.boardSize}, ${d.cellSize}px)`},children:m.map((e,r)=>(0,s.jsx)("button",{onClick:()=>S(r),style:{width:`${d.cellSize}px`,height:`${d.cellSize}px`,backgroundColor:d.backgroundColor,borderColor:d.borderColor,color:e?d.symbolColors[e]:"inherit",fontSize:d.symbolSize},className:"border-2 flex items-center justify-center font-bold hover:bg-gray-100",disabled:!!(M||e),children:e},r))}),(0,s.jsx)("div",{className:"space-x-4",children:(0,s.jsx)("button",{className:"rounded-md bg-primary px-4 py-3 text-base text-white font-medium dark:text-white hover:bg-primary/90 flex items-center gap-2",onClick:()=>{c(Array(d.boardSize*d.boardSize).fill(null)),f(!0),y({xMoves:0,oMoves:0,emptyFields:d.boardSize*d.boardSize})},children:"Reset Game"})})]})}},79334:(e,r,t)=>{"use strict";var s=t(58686);t.o(s,"redirect")&&t.d(r,{redirect:function(){return s.redirect}}),t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},955:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\jmich\\\\OneDrive\\\\Dokumenty\\\\K\xf3łko i Krzyżyk Frameworki\\\\frontend-app-next-js-main\\\\app\\\\(protected)\\\\layout.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\jmich\\OneDrive\\Dokumenty\\K\xf3łko i Krzyżyk Frameworki\\frontend-app-next-js-main\\app\\(protected)\\layout.jsx","default")},52476:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\jmich\\\\OneDrive\\\\Dokumenty\\\\K\xf3łko i Krzyżyk Frameworki\\\\frontend-app-next-js-main\\\\app\\\\(protected)\\\\tic-tac-toe\\\\game\\\\[id]\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\jmich\\OneDrive\\Dokumenty\\K\xf3łko i Krzyżyk Frameworki\\frontend-app-next-js-main\\app\\(protected)\\tic-tac-toe\\game\\[id]\\page.js","default")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[989,998,833],()=>t(99401));module.exports=s})();